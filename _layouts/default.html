<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Favicon -->
  <link rel="icon" type="image/jpeg" href="{{ site.baseurl }}/assets/ks.icon.jpg">
  <link rel="apple-touch-icon" href="{{ site.baseurl }}/assets/ks.icon.jpg">

  <style>

    /* Header layout */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .site-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #ffffff;
      text-decoration: none;
    }

    nav {
      display: flex;
      align-items: center;
      gap: 1.5rem; /* spacing between nav links */
      margin: 0;
    }

    nav a {
      color: #93c5fd;
      text-decoration: none;
      font-size: 0.95rem;
    }

    nav a:hover {
      color: white;
    }

    /* Language toggle button - on the right */
    .lang-toggle{
      display: inline-block;
      margin-left: auto; /* pushes it to the right */
    }

    .lang-btn{
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 999px;
      padding: 6px 12px;
      cursor: pointer;
      font-size: 1.2rem;
      transition: background 0.15s ease, transform 0.12s ease;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .lang-btn:hover{
      background: rgba(255,255,255,0.12);
      transform: translateY(-1px);
    }

    .lang-flag{
      display: inline-block;
      transition: transform 0.3s ease;
    }

    /* Flip animation when switching */
    .lang-flag.flip{
      animation: flipFlag 0.4s ease;
    }

    @keyframes flipFlag{
      0%{ transform: rotateY(0deg); }
      50%{ transform: rotateY(90deg); opacity: 0.3; }
      100%{ transform: rotateY(0deg); }
    }

    /* Mobile: stack or keep inline */
    @media (max-width: 640px){
      .lang-toggle{ margin-left: auto; }
    }

    body {
      font-family: system-ui, sans-serif;
      margin: 0;
      padding: 2rem;
      background: #111827;
      color: #e5e7eb;
    }

    main {
      max-width: 1100px;
      margin: 0 auto;
    }

    
    /* Gallery sections: match resume separators (single thin line) */
    .gallery-section{
    padding: 1.2rem 0;
    border-bottom: 1px solid rgba(255,255,255,0.18);
  }

    .gallery-section:last-of-type{
    border-bottom: none;
    }


    
    /*GALLERY GRID */
    .album-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 14px;
      margin-top: 14px;
    }

    .album-tile {
      border: 0;
      background: transparent;
      padding: 0;
      cursor: pointer;
      text-align: left;
    }

    .album-tile img {
      width: 100%;
      aspect-ratio: 4 / 3;
      object-fit: cover;
      border-radius: 14px;
      display: block;
    }

    .album-tile-title {
      margin-top: 8px;
      font-weight: 600;
      color: #ffffff;
    }

    /* Expandable panel that appears inside the grid */
    .album-panel {
      grid-column: 1 / -1;
      margin-top: 6px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 16px;
      position: relative;

      /* roughly ‚Äútwo rows tall‚Äù feel */
      min-height: 520px;
    }

    .album-panel-left {
      flex: 1;
      min-width: 0;
    }
.album-panel-left h2 {
  margin-bottom: 4px;
}
.album-panel-desc {
      max-width: 100%;
      margin: 6px 0 0 0;
      color: rgba(255,255,255,0.75);
      font-size: 0.95rem;
    }
    
/* Panel header row */
.album-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.album-panel-actions {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}

    .album-panel-header h2 {
      margin: 0;
      color: #ffffff;
    }

/* Close (X) button */
.album-panel-close {
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.06);
  color: #fff;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  font-size: 20px;
}

    .album-panel-link {
    display: inline-flex;
    align-items: center;
    padding: 6px 10px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.18);
    background: rgba(255,255,255,0.06);
    color: #ffffff;
    text-decoration: none;
    font-size: 0.85rem;
    line-height: 1;
    }

    .album-panel-link:hover {
    background: rgba(255,255,255,0.12);
    }

    .album-panel-close:hover {
      background: rgba(255,255,255,0.08);
    }

    /* Make embed responsive */
    .album-embed img {
      max-width: 100%;
      height: auto;
    }
    
    .album-view {
      margin-top: 28px;
    }

    .album-view-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 12px;
    }

    /* Flickr embed area */
    .album-embed {
      margin-top: 14px;
    }


  </style>
</head>


<body>
  <header>
    <nav>
      <a href="{{ site.baseurl }}/">Home</a>
      <a href="{{ site.baseurl }}/resume">Resume</a>
      <a href="{{ site.baseurl }}/gallery">Gallery</a>
    </nav>
    
    <!-- Language toggle - separate from nav -->
    <div class="lang-toggle">
      <button id="lang-btn" class="lang-btn" aria-label="Toggle language">
        <span class="lang-flag" id="current-flag">üá∫üá∏</span>
      </button>
    </div>
  </header>


  
  <main>
    {{ content }}
  </main>


<script>
  (function () {
    const btn = document.querySelector(".resume-float");
    if (!btn) return;

    function onScroll() {
      const y = window.scrollY || document.documentElement.scrollTop;
      // Fade after ~140px. Fully gone after ~240px.
      const start = 140;
      const end = 240;

      if (y <= start) {
        btn.style.opacity = "1";
        btn.style.pointerEvents = "auto";
        return;
      }

      const t = Math.min(1, (y - start) / (end - start));
      const opacity = String(1 - t);
      btn.style.opacity = opacity;

      // Once mostly faded, disable clicking so it doesn't ‚Äúblock‚Äù text.
      if (t > 0.9) {
        btn.style.pointerEvents = "none";
      } else {
        btn.style.pointerEvents = "auto";
      }
    }

    window.addEventListener("scroll", onScroll, { passive: true });
    onScroll();
  })();
</script>


<script>
// Language toggle functionality
const langBtn = document.getElementById('lang-btn');
const flagSpan = document.getElementById('current-flag');
let currentLang = 'en';
let googleTranslateReady = false;

// Initialize Google Translate
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    includedLanguages: 'en,fr',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
    autoDisplay: false
  }, 'google_translate_element');
  
  // Wait for Google Translate to be ready
  setTimeout(() => {
    googleTranslateReady = true;
    console.log('Google Translate ready!');
  }, 1500);
}

// Toggle language on button click
langBtn.addEventListener('click', () => {
  if (!googleTranslateReady) {
    console.log('Google Translate not ready yet, please wait...');
    return;
  }
  
  flagSpan.classList.add('flip');
  
  setTimeout(() => {
    if (currentLang === 'en') {
      // Switch to French
      flagSpan.textContent = 'üá´üá∑';
      currentLang = 'fr';
      
      // Trigger Google Translate to French
      const selectElement = document.querySelector('.goog-te-combo');
      if (selectElement) {
        selectElement.value = 'fr';
        selectElement.dispatchEvent(new Event('change'));
      } else {
        console.log('Translation dropdown not found');
      }
    } else {
      // Switch back to English
      flagSpan.textContent = 'üá∫üá∏';
      currentLang = 'en';
      
      const selectElement = document.querySelector('.goog-te-combo');
      if (selectElement) {
        selectElement.value = 'en';
        selectElement.dispatchEvent(new Event('change'));
      }
    }
    
    flagSpan.classList.remove('flip');
  }, 150);
});
</script>

<!-- Google Translate Script -->
<div id="google_translate_element" style="display:none;"></div>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>
